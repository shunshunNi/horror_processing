int pPosX = 3;
int pPosY = 3;
int pDir  = 0; //up
int[][] map1 = {{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                {1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1},
                {1,1,1,0,1,1,1,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1},
                {1,1,1,0,1,1,1,1,1,0,1,0,1,0,1,1,1,1,1,1,0,0,0,1,1,1},
                {1,1,1,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,0,1,1,1},
                {1,1,1,0,1,1,0,1,1,0,1,1,1,1,1,0,1,0,1,1,0,1,0,1,1,1},
                {1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,1,0,0,1,0,1,1,1},
                {1,1,1,0,1,1,1,1,0,1,1,1,0,0,1,1,1,0,1,1,0,1,0,1,1,1},
                {1,1,1,0,0,0,0,1,0,0,0,0,1,1,0,0,0,0,0,1,0,0,0,1,1,1},
                {1,1,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,1,1,1,0,1,1,1,1},
                {1,1,1,1,0,0,0,1,0,0,0,1,1,1,0,1,1,1,1,1,1,0,1,1,1,1},
                {1,1,1,1,0,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1},
                {1,1,1,1,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,1},
                {1,1,1,1,0,1,1,1,1,1,1,0,0,0,1,0,1,0,0,0,0,1,1,1,1,1},
                {1,1,1,1,0,1,1,1,1,1,1,0,1,0,1,0,1,0,1,1,0,1,1,1,1,1},
                {1,1,1,0,0,1,1,0,0,0,1,1,0,0,0,0,1,0,1,0,0,0,1,1,1,1},
                {1,1,1,0,1,0,0,0,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1},
                {1,1,1,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1},
                {1,1,1,1,0,1,1,1,1,0,0,1,0,1,1,1,1,1,1,0,1,1,0,1,1,1},
                {1,1,1,1,0,0,0,0,1,0,1,1,0,0,0,0,0,0,0,0,1,1,0,1,1,1},
                {1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1},
                {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}};
int[][] currentMap = map1;
int[][] currentLocation = new int[4][3];

void gamePlay(){
  background(128);
  getCurrentLocation();
  drawPlayerView();
}

void getCurrentLocation(){
  switch(pDir){
    case 0:
      int[][] tmp0    = {{grcp(-1,3),grcp(0,3),grcp(1,3)},
                         {grcp(-1,2),grcp(0,2),grcp(1,2)},
                         {grcp(-1,1),grcp(0,1),grcp(1,1)},
                         {grcp(-1,0),grcp(0,0),grcp(1,0)}};
      currentLocation = tmp0;
      break;
    case 1:
      int[][] tmp1    = {{grcp(3,1),grcp(3,0),grcp(3,-1)},
                         {grcp(2,1),grcp(2,0),grcp(2,-1)},
                         {grcp(1,1),grcp(1,0),grcp(1,-1)},
                         {grcp(0,1),grcp(0,0),grcp(0,-1)}};
      currentLocation = tmp1;
      break;
    case 2:
      int[][] tmp2    = {{grcp(1,-3),grcp(0,-3),grcp(-1,-3)},
                         {grcp(1,-2),grcp(0,-2),grcp(-1,-2)},
                         {grcp(1,-1),grcp(0,-1),grcp(-1,-1)},
                         {grcp(1,0), grcp(0,0), grcp(-1,0)}};
      currentLocation = tmp2;
      break;
    case 3:
      int[][] tmp3    = {{grcp(-3,-1),grcp(-3,0),grcp(-3,1)},
                         {grcp(-2,-1),grcp(-2,0),grcp(-2,1)},
                         {grcp(-1,-1),grcp(-1,0),grcp(-1,1)},
                         {grcp(0,-1), grcp(0,0), grcp(0,1)}};
      currentLocation = tmp3;
      break;
  }
}

void drawPlayerView(){

}
int grcp(int x, int y){ //grcp means "Get Relative Coordinate of Player"
  int tmp = currentMap[pPosY + y][pPosX + x];
  return tmp;
}

void keyPressed(){
  switch(key){
    case 'd':
      pDir += 1;
      pDir %= 4;
      break;
    case 's':
      pDir += 2;
      pDir %= 4;
      break;
    case 'a':
      pDir += 3;
      pDir %= 4;
      break;
    case 'w':
      switch(pDir){
        case 0:
        if (grcp(0,-1) == 1){println("壁だ");}
        else{pPosY -= 1;
        println("上に進んだ");}
        break;
        case 1:
        if (grcp(1,0) == 1){println("壁だ");}
        else{pPosX += 1;
        println("右に進んだ");}
        break;
        case 2:
        if (grcp(0,1) == 1){println("壁だ");}
        else{pPosY += 1;
        println("下に進んだ");}
        break;
        case 3:
        if (grcp(-1,0) == 1){println("壁だ");}
        else{pPosX -= 1;
        println("左に進んだ");}
        break;
      }
  }
}
